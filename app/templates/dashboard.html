{% extends 'base.html' %} {% block title %}Buy | Keysavvy{% endblock %}
<!-- gap -->
{% block content %}

<section class="py-5">
    <div class="row justify-content-center">
        <div class="col-8">
            {% if not from_signup %}
            <div class="row align-items-center mb-3">
                <div class="col-md-10">
                    <h2>Selling {{ profile_status }}</h2>
                    <p class="text-muted mb-0">
                        To accept payment from a private buyer, add your vehicle.
                    </p>
                </div>
                <div class="col-md-2 text-end">
                    <button class="btn btn-outline-secondary mt-2" data-bs-toggle="modal" data-bs-target="#addVehicleModal">ADD VEHICLE</button>
                </div>
            </div>
            {% endif %}
            <div class="d-flex justify-content-between align-items-center">
                {% if from_signup %}
                <h2 class="mb-3">Hi, {{user.first_name}} {{user.last_name}}</h2>
                {% else %}
                <h2 class="mb-3">Buying</h2>
                {% endif %}
                <button class="btn btn-outline-secondary">PAY NEW SELLER</button>
            </div>
            <div class="card shadow-sm p-3">
                <div class="d-flex justify-content-between align-items-center">
                    <h5 class="m-0">{{ vehicle.year }} {{ vehicle.make }} {{ vehicle.model }}</h5>
                    <div class="text-decoration-underline">{{ vehicle.formatted_price }}</div>
                </div>
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <h6 class="m-0">{{vehicle.serial_number}}</h6>
                    <div class="text-decoration-underline"><i class="fa-solid fa-calendar-days"></i> Temp permit</div>
                </div>
                <p class="text-end">Status: {% if profile_status == "pending" %}User needs to verify his identity{% else %}{{ profile_status }}{% endif %}</p>
                <div class="row">
                    <div class="col-md-4" style="border-right: 2px solid black;">
                        <div class="d-flex align-items-center gap-2 my-3">
                            <span class="p-2 rounded-circle bg-primary">
                                <i class="fa-solid fa-lock fs-5 text-white"></i>
                            </span>
                            <span>Payment</span>
                        </div>
                        <div class="d-flex align-items-center gap-2 my-3">
                            <span class="p-2 rounded-circle bg-primary">
                                <i class="fa-solid fa-lock fs-5 text-white"></i>
                            </span>
                            <span>Docs</span>
                        </div>
                        <div class="d-flex align-items-center gap-2 my-3">
                            <span class="p-2 rounded-circle bg-primary">
                                <i class="fa-solid fa-lock fs-5 text-white"></i>
                            </span>
                            <span>Transfer</span>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <p class="text-center">We need to verify your identity. Click the button below to begin</p>
                        <div class="text-center mb-3">
                            <button class="btn btn-warning">USER INFORMATION</button>
                        </div>
                        <div class="text-center">
                            <button class="btn btn-outline-danger">CANCEL DEAL</button>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-end gap-2">
                    <button class="btn btn-outline-secondary">PAYMENTS</button>
                    {% if profile_status == "pending" %}
                    <button class="btn btn-warning">VERIFY MY IDENTITY</button>
                    {% else %}
                    <button class="btn btn-warning disabled" disabled>VERIFIED</button>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>

<div
	class="modal fade"
	id="addVehicleModal"
	tabindex="-1"
	aria-labelledby="addVehicleModalLabel"
	aria-hidden="true"
>
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="addVehicleModalLabel">
					Add a Vehicle to KeySavvy
				</h5>
				<button
					type="button"
					class="btn-close"
					data-bs-dismiss="modal"
					aria-label="Close"
				></button>
			</div>
			<div class="modal-body">
				<p>
					Enter the VIN and price of the vehicle you're
					<strong>selling</strong>. We'll give you a link to share
					with buyers.
				</p>
				<p>
					Can't find your VIN?
					<a href="#">Here are some clever places to find it.</a>
				</p>
				<form>
					<!-- VIN Input -->
					<div class="mb-3">
						<label for="vin" class="form-label">VIN *</label>
						<input
							type="text"
							class="form-control"
							id="vin"
							placeholder="Enter VIN"
						/>
					</div>
					<!-- Price Input -->
					<div class="mb-3">
						<label for="price" class="form-label"
							>Price (optional)</label
						>
						<div class="input-group">
							<span class="input-group-text">$</span>
							<input
								type="text"
								class="form-control"
								id="price"
								placeholder="Enter price"
							/>
						</div>
						<small class="form-text text-muted"
							>You can update your price at any time.</small
						>
					</div>
					<p class="mt-3">
						Selling a collector, classic, or JDM?
						<a href="#">Click here</a><br />
						Buying this vehicle instead? <a href="#">Click here</a>
					</p>
				</form>
			</div>
			<div class="modal-footer">
				<button
					type="button"
					class="btn btn-outline-secondary"
					data-bs-dismiss="modal"
				>
					CLOSE
				</button>
				<button type="button" class="btn btn-warning">
					SEARCH VEHICLE
				</button>
			</div>
		</div>
	</div>
</div>
{% endblock %}
