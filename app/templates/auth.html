{% extends 'base.html' %} {% block title %}Auth | Keysavvy{% endblock %} {% block content %}
<div class="container my-5">
	<div class="row">
		<!-- Login Form -->
		<div class="col-md-6">
			<div class="card shadow-sm">
				<div class="card-body">
					<h1 class="card-title text-center mt-4">Log in</h1>
					<p class="text-center mb-4">
						Sign in with this account only for Admin.
					</p>
					<form method="POST" action="{% url 'login' %}">
						{% csrf_token %}
						<div class="mb-3">
							<label for="emailUsername" class="form-label"
								>Username</label
							>
							<input
								type="text"
								class="form-control {% if signin_form.errors.username %}is-invalid{% endif %}"
								id="emailUsername"
								name="username"
								placeholder="Enter Username"
								value="{{ signin_form.username.value|default_if_none:'' }}"
								required
							/>
							{% if signin_form.errors.username %}
							<div class="invalid-feedback">
								{{ signin_form.errors.username.0 }}
							</div>
							{% endif %}
						</div>
						<div class="mb-3">
							<label for="password" class="form-label"
								>Password</label
							>
							<div class="input-group">
								<input
									type="password"
									class="form-control password-field {% if signin_form.errors.password %}is-invalid{% endif %}"
									id="password"
									name="password"
									placeholder="Enter Password"
									required
								/>
								<span
									class="input-group-text toggle-password"
									style="cursor: pointer"
								>
									<i class="bi bi-eye-slash"></i>
								</span>
								{% if signin_form.errors.password %}
								<div class="invalid-feedback">
									{{ signin_form.errors.password.0 }}
								</div>
								{% endif %}
							</div>
						</div>
						{% if signin_form.non_field_errors %}
						<div class="alert alert-danger">
							{{ signin_form.non_field_errors|join:"<br />" }}
						</div>
						{% endif %}
						<button type="submit" class="btn btn-warning w-100">
							LOGIN →
						</button>
					</form>
				</div>
			</div>
		</div>

		<!-- Signup Form -->
		<div class="col-md-6">
			<div class="card shadow-sm">
				<div class="card-body">
					<h1 class="card-title text-center mt-4">Sign Up</h1>
					<p class="text-center mb-4">
						Sign in with this account only for Admin.
					</p>
					<form method="POST" action="{% url 'signup' %}">
						{% csrf_token %}
						<div class="row">
							<div class="col-md-6 mb-3">
								<label for="firstName" class="form-label"
									>First Name</label
								>
								<input
									type="text"
									class="form-control {% if signup_form.errors.first_name %}is-invalid{% endif %}"
									id="firstName"
									name="first_name"
									placeholder="First Name"
									value="{{ signup_form.first_name.value|default_if_none:'' }}"
									required
								/>
								{% if signup_form.errors.first_name %}
								<div class="invalid-feedback">
									{{ signup_form.errors.first_name.0 }}
								</div>
								{% endif %}
							</div>
							<div class="col-md-6 mb-3">
								<label for="lastName" class="form-label"
									>Last Name</label
								>
								<input
									type="text"
									class="form-control {% if signup_form.errors.last_name %}is-invalid{% endif %}"
									id="lastName"
									name="last_name"
									placeholder="Last Name"
									value="{{ signup_form.last_name.value|default_if_none:'' }}"
									required
								/>
								{% if signup_form.errors.last_name %}
								<div class="invalid-feedback">
									{{ signup_form.errors.last_name.0 }}
								</div>
								{% endif %}
							</div>
						</div>
						<div class="mb-3">
							<label for="userName" class="form-label"
								>User Name</label
							>
							<input
								type="text"
								class="form-control {% if signup_form.errors.username %}is-invalid{% endif %}"
								id="userName"
								name="username"
								placeholder="User Name"
								value="{{ signup_form.username.value|default_if_none:'' }}"
								required
							/>
							{% if signup_form.errors.username %}
							<div class="invalid-feedback">
								{{ signup_form.errors.username.0 }}
							</div>
							{% endif %}
						</div>
						<div class="mb-3">
							<label for="email" class="form-label"
								>Enter Email</label
							>
							<input
								type="email"
								class="form-control {% if signup_form.errors.email %}is-invalid{% endif %}"
								id="email"
								name="email"
								placeholder="Enter Email"
								value="{{ signup_form.email.value|default_if_none:'' }}"
								required
							/>
							{% if signup_form.errors.email %}
							<div class="invalid-feedback">
								{{ signup_form.errors.email.0 }}
							</div>
							{% endif %}
						</div>
						<div class="mb-3">
							<label for="signupPassword" class="form-label"
								>Password</label
							>
							<div class="input-group">
								<input
									type="password"
									class="form-control password-field {% if signup_form.errors.password %}is-invalid{% endif %}"
									id="signupPassword"
									name="password"
									placeholder="Password"
									required
								/>
								<span
									class="input-group-text toggle-password"
									style="cursor: pointer"
								>
									<i class="bi bi-eye-slash"></i>
								</span>
								{% if signup_form.errors.password %}
								<div class="invalid-feedback">
									{{ signup_form.errors.password.0 }}
								</div>
								{% endif %}
							</div>
						</div>
						<div class="mb-3">
							<label for="confirmPassword" class="form-label"
								>Confirm Password</label
							>
							<div class="input-group">
								<input
									type="password"
									class="form-control password-field {% if signup_form.errors.confirm_password %}is-invalid{% endif %}"
									id="confirmPassword"
									name="confirm_password"
									placeholder="Confirm Password"
									required
								/>
								<span
									class="input-group-text toggle-password"
									style="cursor: pointer"
								>
									<i class="bi bi-eye-slash"></i>
								</span>
								{% if signup_form.errors.confirm_password %}
								<div class="invalid-feedback">
									{{ signup_form.errors.confirm_password.0 }}
								</div>
								{% endif %}
							</div>
						</div>
						<button type="submit" class="btn btn-warning w-100">
							SIGN UP →
						</button>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	$(document).ready(function () {
		// Toggle password visibility
		$(".toggle-password").click(function () {
			const input = $(this).siblings(".password-field");
			const icon = $(this).find("i");
			if (input.attr("type") === "password") {
				input.attr("type", "text");
				icon.removeClass("bi-eye-slash").addClass("bi-eye");
			} else {
				input.attr("type", "password");
				icon.removeClass("bi-eye").addClass("bi-eye-slash");
			}
		});
	});
</script>
{% endblock %}
